/*!
 * =====================================================
 * SUI Mobile - http://m.sui.taobao.org/
 *
 * =====================================================
 */
+function(b){var a=function(r,F){var n=this.defaults;var c=F&&F.virtualTranslate;F=F||{};for(var t in n){if(typeof F[t]==="undefined"){F[t]=n[t]}else{if(typeof F[t]==="object"){for(var g in n[t]){if(typeof F[t][g]==="undefined"){F[t][g]=n[t][g]}}}}}var v=this;v.params=F;v.classNames=[];v.$=b;v.container=b(r);if(v.container.length===0){return}if(v.container.length>1){v.container.each(function(){new b.Swiper(this,F)});return}v.container[0].swiper=v;v.container.data("swiper",v);v.classNames.push("swiper-container-"+v.params.direction);if(v.params.freeMode){v.classNames.push("swiper-container-free-mode")}if(!v.support.flexbox){v.classNames.push("swiper-container-no-flexbox");v.params.slidesPerColumn=1}if(v.params.parallax||v.params.watchSlidesVisibility){v.params.watchSlidesProgress=true}if(["cube","coverflow"].indexOf(v.params.effect)>=0){if(v.support.transforms3d){v.params.watchSlidesProgress=true;v.classNames.push("swiper-container-3d")}else{v.params.effect="slide"}}if(v.params.effect!=="slide"){v.classNames.push("swiper-container-"+v.params.effect)}if(v.params.effect==="cube"){v.params.resistanceRatio=0;v.params.slidesPerView=1;v.params.slidesPerColumn=1;v.params.slidesPerGroup=1;v.params.centeredSlides=false;v.params.spaceBetween=0;v.params.virtualTranslate=true;v.params.setWrapperSize=false}if(v.params.effect==="fade"){v.params.slidesPerView=1;v.params.slidesPerColumn=1;v.params.slidesPerGroup=1;v.params.watchSlidesProgress=true;v.params.spaceBetween=0;if(typeof c==="undefined"){v.params.virtualTranslate=true}}if(v.params.grabCursor&&v.support.touch){v.params.grabCursor=false}v.wrapper=v.container.children("."+v.params.wrapperClass);if(v.params.pagination){v.paginationContainer=b(v.params.pagination);if(v.params.paginationClickable){v.paginationContainer.addClass("swiper-pagination-clickable")}}function y(){return v.params.direction==="horizontal"}v.rtl=y()&&(v.container[0].dir.toLowerCase()==="rtl"||v.container.css("direction")==="rtl");if(v.rtl){v.classNames.push("swiper-container-rtl")}if(v.rtl){v.wrongRTL=v.wrapper.css("display")==="-webkit-box"}if(v.params.slidesPerColumn>1){v.classNames.push("swiper-container-multirow")}if(v.device.android){v.classNames.push("swiper-container-android")}v.container.addClass(v.classNames.join(" "));v.translate=0;v.progress=0;v.velocity=0;v.lockSwipeToNext=function(){v.params.allowSwipeToNext=false};v.lockSwipeToPrev=function(){v.params.allowSwipeToPrev=false};v.lockSwipes=function(){v.params.allowSwipeToNext=v.params.allowSwipeToPrev=false};v.unlockSwipeToNext=function(){v.params.allowSwipeToNext=true};v.unlockSwipeToPrev=function(){v.params.allowSwipeToPrev=true};v.unlockSwipes=function(){v.params.allowSwipeToNext=v.params.allowSwipeToPrev=true};if(v.params.grabCursor){v.container[0].style.cursor="move";v.container[0].style.cursor="-webkit-grab";v.container[0].style.cursor="-moz-grab";v.container[0].style.cursor="grab"}v.imagesToLoad=[];v.imagesLoaded=0;v.loadImage=function(s,K,p,L){var J;function I(){if(L){L()}}if(!s.complete||!p){if(K){J=new Image();J.onload=I;J.onerror=I;J.src=K}else{I()}}else{I()}};v.preloadImages=function(){v.imagesToLoad=v.container.find("img");function s(){if(typeof v==="undefined"||v===null){return}if(v.imagesLoaded!==undefined){v.imagesLoaded++}if(v.imagesLoaded===v.imagesToLoad.length){if(v.params.updateOnImagesReady){v.update()}v.emit("onImagesReady",v)}}for(var p=0;p<v.imagesToLoad.length;p++){v.loadImage(v.imagesToLoad[p],(v.imagesToLoad[p].currentSrc||v.imagesToLoad[p].getAttribute("src")),true,s)}};v.autoplayTimeoutId=undefined;v.autoplaying=false;v.autoplayPaused=false;function q(){v.autoplayTimeoutId=setTimeout(function(){if(v.params.loop){v.fixLoop();v._slideNext()}else{if(!v.isEnd){v._slideNext()}else{if(!F.autoplayStopOnLast){v._slideTo(0)}else{v.stopAutoplay()}}}},v.params.autoplay)}v.startAutoplay=function(){if(typeof v.autoplayTimeoutId!=="undefined"){return false}if(!v.params.autoplay){return false}if(v.autoplaying){return false}v.autoplaying=true;v.emit("onAutoplayStart",v);q()};v.stopAutoplay=function(){if(!v.autoplayTimeoutId){return}if(v.autoplayTimeoutId){clearTimeout(v.autoplayTimeoutId)}v.autoplaying=false;v.autoplayTimeoutId=undefined;v.emit("onAutoplayStop",v)};v.pauseAutoplay=function(p){if(v.autoplayPaused){return}if(v.autoplayTimeoutId){clearTimeout(v.autoplayTimeoutId)}v.autoplayPaused=true;if(p===0){v.autoplayPaused=false;q()}else{v.wrapper.transitionEnd(function(){v.autoplayPaused=false;if(!v.autoplaying){v.stopAutoplay()}else{q()}})}};v.minTranslate=function(){return(-v.snapGrid[0])};v.maxTranslate=function(){return(-v.snapGrid[v.snapGrid.length-1])};v.updateContainerSize=function(){v.width=v.container[0].clientWidth;v.height=v.container[0].clientHeight;v.size=y()?v.width:v.height};v.updateSlidesSize=function(){v.slides=v.wrapper.children("."+v.params.slideClass);v.snapGrid=[];v.slidesGrid=[];v.slidesSizesGrid=[];var S=v.params.spaceBetween,p=0,L,s=0,Q=0;if(typeof S==="string"&&S.indexOf("%")>=0){S=parseFloat(S.replace("%",""))/100*v.size}v.virtualSize=-S;if(v.rtl){v.slides.css({marginLeft:"",marginTop:""})}else{v.slides.css({marginRight:"",marginBottom:""})}var P;if(v.params.slidesPerColumn>1){if(Math.floor(v.slides.length/v.params.slidesPerColumn)===v.slides.length/v.params.slidesPerColumn){P=v.slides.length}else{P=Math.ceil(v.slides.length/v.params.slidesPerColumn)*v.params.slidesPerColumn}}var O;for(L=0;L<v.slides.length;L++){O=0;var N=v.slides.eq(L);if(v.params.slidesPerColumn>1){var R;var J,T;var M=v.params.slidesPerColumn;var I;if(v.params.slidesPerColumnFill==="column"){J=Math.floor(L/M);T=L-J*M;R=J+T*P/M;N.css({"-webkit-box-ordinal-group":R,"-moz-box-ordinal-group":R,"-ms-flex-order":R,"-webkit-order":R,order:R})}else{I=P/M;T=Math.floor(L/I);J=L-T*I}N.css({"margin-top":(T!==0&&v.params.spaceBetween)&&(v.params.spaceBetween+"px")}).attr("data-swiper-column",J).attr("data-swiper-row",T)}if(N.css("display")==="none"){continue}if(v.params.slidesPerView==="auto"){O=y()?N.outerWidth(true):N.outerHeight(true)}else{O=(v.size-(v.params.slidesPerView-1)*S)/v.params.slidesPerView;if(y()){v.slides[L].style.width=O+"px"}else{v.slides[L].style.height=O+"px"}}v.slides[L].swiperSlideSize=O;v.slidesSizesGrid.push(O);if(v.params.centeredSlides){p=p+O/2+s/2+S;if(L===0){p=p-v.size/2-S}if(Math.abs(p)<1/1000){p=0}if((Q)%v.params.slidesPerGroup===0){v.snapGrid.push(p)}v.slidesGrid.push(p)}else{if((Q)%v.params.slidesPerGroup===0){v.snapGrid.push(p)}v.slidesGrid.push(p);p=p+O+S}v.virtualSize+=O+S;s=O;Q++}v.virtualSize=Math.max(v.virtualSize,v.size);var K;if(v.rtl&&v.wrongRTL&&(v.params.effect==="slide"||v.params.effect==="coverflow")){v.wrapper.css({width:v.virtualSize+v.params.spaceBetween+"px"})}if(!v.support.flexbox||v.params.setWrapperSize){if(y()){v.wrapper.css({width:v.virtualSize+v.params.spaceBetween+"px"})}else{v.wrapper.css({height:v.virtualSize+v.params.spaceBetween+"px"})}}if(v.params.slidesPerColumn>1){v.virtualSize=(O+v.params.spaceBetween)*P;v.virtualSize=Math.ceil(v.virtualSize/v.params.slidesPerColumn)-v.params.spaceBetween;v.wrapper.css({width:v.virtualSize+v.params.spaceBetween+"px"});if(v.params.centeredSlides){K=[];for(L=0;L<v.snapGrid.length;L++){if(v.snapGrid[L]<v.virtualSize+v.snapGrid[0]){K.push(v.snapGrid[L])}}v.snapGrid=K}}if(!v.params.centeredSlides){K=[];for(L=0;L<v.snapGrid.length;L++){if(v.snapGrid[L]<=v.virtualSize-v.size){K.push(v.snapGrid[L])}}v.snapGrid=K;if(Math.floor(v.virtualSize-v.size)>Math.floor(v.snapGrid[v.snapGrid.length-1])){v.snapGrid.push(v.virtualSize-v.size)}}if(v.snapGrid.length===0){v.snapGrid=[0]}if(v.params.spaceBetween!==0){if(y()){if(v.rtl){v.slides.css({marginLeft:S+"px"})}else{v.slides.css({marginRight:S+"px"})}}else{v.slides.css({marginBottom:S+"px"})}}if(v.params.watchSlidesProgress){v.updateSlidesOffset()}};v.updateSlidesOffset=function(){for(var p=0;p<v.slides.length;p++){v.slides[p].swiperSlideOffset=y()?v.slides[p].offsetLeft:v.slides[p].offsetTop}};v.updateSlidesProgress=function(I){if(typeof I==="undefined"){I=v.translate||0}if(v.slides.length===0){return}if(typeof v.slides[0].swiperSlideOffset==="undefined"){v.updateSlidesOffset()}var J=v.params.centeredSlides?-I+v.size/2:-I;if(v.rtl){J=v.params.centeredSlides?I-v.size/2:I}v.slides.removeClass(v.params.slideVisibleClass);for(var K=0;K<v.slides.length;K++){var N=v.slides[K];var p=(v.params.centeredSlides===true)?N.swiperSlideSize/2:0;var O=(J-N.swiperSlideOffset-p)/(N.swiperSlideSize+v.params.spaceBetween);if(v.params.watchSlidesVisibility){var M=-(J-N.swiperSlideOffset-p);var s=M+v.slidesSizesGrid[K];var L=(M>=0&&M<v.size)||(s>0&&s<=v.size)||(M<=0&&s>=v.size);if(L){v.slides.eq(K).addClass(v.params.slideVisibleClass)}}N.progress=v.rtl?-O:O}};v.updateProgress=function(s){if(typeof s==="undefined"){s=v.translate||0}var p=v.maxTranslate()-v.minTranslate();if(p===0){v.progress=0;v.isBeginning=v.isEnd=true}else{v.progress=(s-v.minTranslate())/(p);v.isBeginning=v.progress<=0;v.isEnd=v.progress>=1}if(v.isBeginning){v.emit("onReachBeginning",v)}if(v.isEnd){v.emit("onReachEnd",v)}if(v.params.watchSlidesProgress){v.updateSlidesProgress(s)}v.emit("onProgress",v,v.progress)};v.updateActiveIndex=function(){var s=v.rtl?v.translate:-v.translate;var J,p,I;for(p=0;p<v.slidesGrid.length;p++){if(typeof v.slidesGrid[p+1]!=="undefined"){if(s>=v.slidesGrid[p]&&s<v.slidesGrid[p+1]-(v.slidesGrid[p+1]-v.slidesGrid[p])/2){J=p}else{if(s>=v.slidesGrid[p]&&s<v.slidesGrid[p+1]){J=p+1}}}else{if(s>=v.slidesGrid[p]){J=p}}}if(J<0||typeof J==="undefined"){J=0}I=Math.floor(J/v.params.slidesPerGroup);if(I>=v.snapGrid.length){I=v.snapGrid.length-1}if(J===v.activeIndex){return}v.snapIndex=I;v.previousIndex=v.activeIndex;v.activeIndex=J;v.updateClasses()};v.updateClasses=function(){v.slides.removeClass(v.params.slideActiveClass+" "+v.params.slideNextClass+" "+v.params.slidePrevClass);var s=v.slides.eq(v.activeIndex);s.addClass(v.params.slideActiveClass);s.next("."+v.params.slideClass).addClass(v.params.slideNextClass);s.prev("."+v.params.slideClass).addClass(v.params.slidePrevClass);if(v.bullets&&v.bullets.length>0){v.bullets.removeClass(v.params.bulletActiveClass);var p;if(v.params.loop){p=Math.ceil(v.activeIndex-v.loopedSlides)/v.params.slidesPerGroup;if(p>v.slides.length-1-v.loopedSlides*2){p=p-(v.slides.length-v.loopedSlides*2)}if(p>v.bullets.length-1){p=p-v.bullets.length}}else{if(typeof v.snapIndex!=="undefined"){p=v.snapIndex}else{p=v.activeIndex||0}}if(v.paginationContainer.length>1){v.bullets.each(function(){if(b(this).index()===p){b(this).addClass(v.params.bulletActiveClass)}})}else{v.bullets.eq(p).addClass(v.params.bulletActiveClass)}}if(!v.params.loop){if(v.params.prevButton){if(v.isBeginning){b(v.params.prevButton).addClass(v.params.buttonDisabledClass);if(v.params.a11y&&v.a11y){v.a11y.disable(b(v.params.prevButton))}}else{b(v.params.prevButton).removeClass(v.params.buttonDisabledClass);if(v.params.a11y&&v.a11y){v.a11y.enable(b(v.params.prevButton))}}}if(v.params.nextButton){if(v.isEnd){b(v.params.nextButton).addClass(v.params.buttonDisabledClass);if(v.params.a11y&&v.a11y){v.a11y.disable(b(v.params.nextButton))}}else{b(v.params.nextButton).removeClass(v.params.buttonDisabledClass);if(v.params.a11y&&v.a11y){v.a11y.enable(b(v.params.nextButton))}}}}};v.updatePagination=function(){if(!v.params.pagination){return}if(v.paginationContainer&&v.paginationContainer.length>0){var p="";var I=v.params.loop?Math.ceil((v.slides.length-v.loopedSlides*2)/v.params.slidesPerGroup):v.snapGrid.length;for(var s=0;s<I;s++){if(v.params.paginationBulletRender){p+=v.params.paginationBulletRender(s,v.params.bulletClass)}else{p+='<span class="'+v.params.bulletClass+'"></span>'}}v.paginationContainer.html(p);v.bullets=v.paginationContainer.find("."+v.params.bulletClass)}};v.update=function(J){v.updateContainerSize();v.updateSlidesSize();v.updateProgress();v.updatePagination();v.updateClasses();if(v.params.scrollbar&&v.scrollbar){v.scrollbar.set()}function s(){p=Math.min(Math.max(v.translate,v.maxTranslate()),v.minTranslate());v.setWrapperTranslate(p);v.updateActiveIndex();v.updateClasses()}if(J){var I,p;if(v.params.freeMode){s()}else{if(v.params.slidesPerView==="auto"&&v.isEnd&&!v.params.centeredSlides){I=v.slideTo(v.slides.length-1,0,false,true)}else{I=v.slideTo(v.activeIndex,0,false,true)}if(!I){s()}}}};v.onResize=function(){v.updateContainerSize();v.updateSlidesSize();v.updateProgress();if(v.params.slidesPerView==="auto"||v.params.freeMode){v.updatePagination()}if(v.params.scrollbar&&v.scrollbar){v.scrollbar.set()}if(v.params.freeMode){var p=Math.min(Math.max(v.translate,v.maxTranslate()),v.minTranslate());v.setWrapperTranslate(p);v.updateActiveIndex();v.updateClasses()}else{v.updateClasses();if(v.params.slidesPerView==="auto"&&v.isEnd&&!v.params.centeredSlides){v.slideTo(v.slides.length-1,0,false,true)}else{v.slideTo(v.activeIndex,0,false,true)}}};var G=["mousedown","mousemove","mouseup"];if(window.navigator.pointerEnabled){G=["pointerdown","pointermove","pointerup"]}else{if(window.navigator.msPointerEnabled){G=["MSPointerDown","MSPointerMove","MSPointerUp"]}}v.touchEvents={start:v.support.touch||!v.params.simulateTouch?"touchstart":G[0],move:v.support.touch||!v.params.simulateTouch?"touchmove":G[1],end:v.support.touch||!v.params.simulateTouch?"touchend":G[2]};if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){(v.params.touchEventsTarget==="container"?v.container:v.wrapper).addClass("swiper-wp8-"+v.params.direction)}v.initEvents=function(L){var p=L?"off":"on";var J=L?"removeEventListener":"addEventListener";var s=v.params.touchEventsTarget==="container"?v.container[0]:v.wrapper[0];var K=v.support.touch?s:document;var I=v.params.nested?true:false;if(v.browser.ie){s[J](v.touchEvents.start,v.onTouchStart,false);K[J](v.touchEvents.move,v.onTouchMove,I);K[J](v.touchEvents.end,v.onTouchEnd,false)}else{if(v.support.touch){s[J](v.touchEvents.start,v.onTouchStart,false);s[J](v.touchEvents.move,v.onTouchMove,I);s[J](v.touchEvents.end,v.onTouchEnd,false)}if(F.simulateTouch&&!v.device.ios&&!v.device.android){s[J]("mousedown",v.onTouchStart,false);K[J]("mousemove",v.onTouchMove,I);K[J]("mouseup",v.onTouchEnd,false)}}window[J]("resize",v.onResize);if(v.params.nextButton){b(v.params.nextButton)[p]("click",v.onClickNext);if(v.params.a11y&&v.a11y){b(v.params.nextButton)[p]("keydown",v.a11y.onEnterKey)}}if(v.params.prevButton){b(v.params.prevButton)[p]("click",v.onClickPrev);if(v.params.a11y&&v.a11y){b(v.params.prevButton)[p]("keydown",v.a11y.onEnterKey)}}if(v.params.pagination&&v.params.paginationClickable){b(v.paginationContainer)[p]("click","."+v.params.bulletClass,v.onClickIndex)}if(v.params.preventClicks||v.params.preventClicksPropagation){s[J]("click",v.preventClicks,true)}};v.attachEvents=function(){v.initEvents()};v.detachEvents=function(){v.initEvents(true)};v.allowClick=true;v.preventClicks=function(p){if(!v.allowClick){if(v.params.preventClicks){p.preventDefault()}if(v.params.preventClicksPropagation){p.stopPropagation();p.stopImmediatePropagation()}}};v.onClickNext=function(p){p.preventDefault();v.slideNext()};v.onClickPrev=function(p){p.preventDefault();v.slidePrev()};v.onClickIndex=function(s){s.preventDefault();var p=b(this).index()*v.params.slidesPerGroup;if(v.params.loop){p=p+v.loopedSlides}v.slideTo(p)};function C(J,p){var s=b(J.target);if(!s.is(p)){if(typeof p==="string"){s=s.parents(p)}else{if(p.nodeType){var I;s.parents().each(function(K,L){if(L===p){I=p}});if(!I){return undefined}else{return p}}}}if(s.length===0){return undefined}return s[0]}v.updateClickedSlide=function(K){var p=C(K,"."+v.params.slideClass);if(p){v.clickedSlide=p;v.clickedIndex=b(p).index()}else{v.clickedSlide=undefined;v.clickedIndex=undefined;return}if(v.params.slideToClickedSlide&&v.clickedIndex!==undefined&&v.clickedIndex!==v.activeIndex){var s=v.clickedIndex,J;if(v.params.loop){J=b(v.clickedSlide).attr("data-swiper-slide-index");if(s>v.slides.length-v.params.slidesPerView){v.fixLoop();s=v.wrapper.children("."+v.params.slideClass+'[data-swiper-slide-index="'+J+'"]').eq(0).index();setTimeout(function(){v.slideTo(s)},0)}else{if(s<v.params.slidesPerView-1){v.fixLoop();var I=v.wrapper.children("."+v.params.slideClass+'[data-swiper-slide-index="'+J+'"]');s=I.eq(I.length-1).index();setTimeout(function(){v.slideTo(s)},0)}else{v.slideTo(s)}}}else{v.slideTo(s)}}};var B,m,j,H,u,E,z,D="input, select, textarea, button",l=Date.now(),A,i=[],k;v.animating=false;v.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var d,h;v.onTouchStart=function(s){if(s.originalEvent){s=s.originalEvent}d=s.type==="touchstart";if(!d&&"which" in s&&s.which===3){return}if(v.params.noSwiping&&C(s,"."+v.params.noSwipingClass)){v.allowClick=true;return}if(v.params.swipeHandler){if(!C(s,v.params.swipeHandler)){return}}B=true;m=false;H=undefined;h=undefined;v.touches.startX=v.touches.currentX=s.type==="touchstart"?s.targetTouches[0].pageX:s.pageX;v.touches.startY=v.touches.currentY=s.type==="touchstart"?s.targetTouches[0].pageY:s.pageY;j=Date.now();v.allowClick=true;v.updateContainerSize();v.swipeDirection=undefined;if(v.params.threshold>0){z=false}if(s.type!=="touchstart"){var p=true;if(b(s.target).is(D)){p=false}if(document.activeElement&&b(document.activeElement).is(D)){document.activeElement.blur()}if(p){s.preventDefault()}}v.emit("onTouchStart",v,s)};v.onTouchMove=function(J){if(J.originalEvent){J=J.originalEvent}if(d&&J.type==="mousemove"){return}if(J.preventedByNestedSwiper){return}if(v.params.onlyExternal){m=true;v.allowClick=false;return}if(d&&document.activeElement){if(J.target===document.activeElement&&b(J.target).is(D)){m=true;v.allowClick=false;return}}v.emit("onTouchMove",v,J);if(J.targetTouches&&J.targetTouches.length>1){return}v.touches.currentX=J.type==="touchmove"?J.targetTouches[0].pageX:J.pageX;v.touches.currentY=J.type==="touchmove"?J.targetTouches[0].pageY:J.pageY;if(typeof H==="undefined"){var p=Math.atan2(Math.abs(v.touches.currentY-v.touches.startY),Math.abs(v.touches.currentX-v.touches.startX))*180/Math.PI;H=y()?p>v.params.touchAngle:(90-p>v.params.touchAngle)}if(H){v.emit("onTouchMoveOpposite",v,J)}if(typeof h==="undefined"&&v.browser.ieTouch){if(v.touches.currentX!==v.touches.startX||v.touches.currentY!==v.touches.startY){h=true}}if(!B){return}if(H){B=false;return}if(!h&&v.browser.ieTouch){return}v.allowClick=false;v.emit("onSliderMove",v,J);J.preventDefault();if(v.params.touchMoveStopPropagation&&!v.params.nested){J.stopPropagation()}if(!m){if(F.loop){v.fixLoop()}E=v.getWrapperTranslate();v.setWrapperTransition(0);if(v.animating){v.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd")}if(v.params.autoplay&&v.autoplaying){if(v.params.autoplayDisableOnInteraction){v.stopAutoplay()}else{v.pauseAutoplay()}}k=false;if(v.params.grabCursor){v.container[0].style.cursor="move";v.container[0].style.cursor="-webkit-grabbing";v.container[0].style.cursor="-moz-grabbin";v.container[0].style.cursor="grabbing"}}m=true;var I=v.touches.diff=y()?v.touches.currentX-v.touches.startX:v.touches.currentY-v.touches.startY;I=I*v.params.touchRatio;if(v.rtl){I=-I}v.swipeDirection=I>0?"prev":"next";u=I+E;var s=true;if((I>0&&u>v.minTranslate())){s=false;if(v.params.resistance){u=v.minTranslate()-1+Math.pow(-v.minTranslate()+E+I,v.params.resistanceRatio)}}else{if(I<0&&u<v.maxTranslate()){s=false;if(v.params.resistance){u=v.maxTranslate()+1-Math.pow(v.maxTranslate()-E-I,v.params.resistanceRatio)}}}if(s){J.preventedByNestedSwiper=true}if(!v.params.allowSwipeToNext&&v.swipeDirection==="next"&&u<E){u=E}if(!v.params.allowSwipeToPrev&&v.swipeDirection==="prev"&&u>E){u=E}if(!v.params.followFinger){return}if(v.params.threshold>0){if(Math.abs(I)>v.params.threshold||z){if(!z){z=true;v.touches.startX=v.touches.currentX;v.touches.startY=v.touches.currentY;u=E;v.touches.diff=y()?v.touches.currentX-v.touches.startX:v.touches.currentY-v.touches.startY;return}}else{u=E;return}}if(v.params.freeMode||v.params.watchSlidesProgress){v.updateActiveIndex()}if(v.params.freeMode){if(i.length===0){i.push({position:v.touches[y()?"startX":"startY"],time:j})}i.push({position:v.touches[y()?"currentX":"currentY"],time:(new Date()).getTime()})}v.updateProgress(u);v.setWrapperTranslate(u)};v.onTouchEnd=function(U){if(U.originalEvent){U=U.originalEvent}v.emit("onTouchEnd",v,U);if(!B){return}if(v.params.grabCursor&&m&&B){v.container[0].style.cursor="move";v.container[0].style.cursor="-webkit-grab";v.container[0].style.cursor="-moz-grab";v.container[0].style.cursor="grab"}var V=Date.now();var S=V-j;if(v.allowClick){v.updateClickedSlide(U);v.emit("onTap",v,U);if(S<300&&(V-l)>300){if(A){clearTimeout(A)}A=setTimeout(function(){if(!v){return}if(v.params.paginationHide&&v.paginationContainer.length>0&&!b(U.target).hasClass(v.params.bulletClass)){v.paginationContainer.toggleClass(v.params.paginationHiddenClass)}v.emit("onClick",v,U)},300)}if(S<300&&(V-l)<300){if(A){clearTimeout(A)}v.emit("onDoubleTap",v,U)}}l=Date.now();setTimeout(function(){if(v&&v.allowClick){v.allowClick=true}},0);if(!B||!m||!v.swipeDirection||v.touches.diff===0||u===E){B=m=false;return}B=m=false;var X;if(v.params.followFinger){X=v.rtl?v.translate:-v.translate}else{X=-u}if(v.params.freeMode){if(X<-v.minTranslate()){v.slideTo(v.activeIndex);return}else{if(X>-v.maxTranslate()){v.slideTo(v.slides.length-1);return}}if(v.params.freeModeMomentum){if(i.length>1){var Q=i.pop(),W=i.pop();var L=Q.position-W.position;var M=Q.time-W.time;v.velocity=L/M;v.velocity=v.velocity/2;if(Math.abs(v.velocity)<0.02){v.velocity=0}if(M>150||(new Date().getTime()-Q.time)>300){v.velocity=0}}else{v.velocity=0}i.length=0;var P=1000*v.params.freeModeMomentumRatio;var R=v.velocity*P;var K=v.translate+R;if(v.rtl){K=-K}var p=false;var J;var I=Math.abs(v.velocity)*20*v.params.freeModeMomentumBounceRatio;if(K<v.maxTranslate()){if(v.params.freeModeMomentumBounce){if(K+v.maxTranslate()<-I){K=v.maxTranslate()-I}J=v.maxTranslate();p=true;k=true}else{K=v.maxTranslate()}}if(K>v.minTranslate()){if(v.params.freeModeMomentumBounce){if(K-v.minTranslate()>I){K=v.minTranslate()+I}J=v.minTranslate();p=true;k=true}else{K=v.minTranslate()}}if(v.velocity!==0){if(v.rtl){P=Math.abs((-K-v.translate)/v.velocity)}else{P=Math.abs((K-v.translate)/v.velocity)}}if(v.params.freeModeMomentumBounce&&p){v.updateProgress(J);v.setWrapperTransition(P);v.setWrapperTranslate(K);v.onTransitionStart();v.animating=true;v.wrapper.transitionEnd(function(){if(!k){return}v.emit("onMomentumBounce",v);v.setWrapperTransition(v.params.speed);v.setWrapperTranslate(J);v.wrapper.transitionEnd(function(){v.onTransitionEnd()})})}else{if(v.velocity){v.updateProgress(K);v.setWrapperTransition(P);v.setWrapperTranslate(K);v.onTransitionStart();if(!v.animating){v.animating=true;v.wrapper.transitionEnd(function(){v.onTransitionEnd()})}}else{v.updateProgress(K)}}v.updateActiveIndex()}if(!v.params.freeModeMomentum||S>=v.params.longSwipesMs){v.updateProgress();v.updateActiveIndex()}return}var T,O=0,s=v.slidesSizesGrid[0];for(T=0;T<v.slidesGrid.length;T+=v.params.slidesPerGroup){if(typeof v.slidesGrid[T+v.params.slidesPerGroup]!=="undefined"){if(X>=v.slidesGrid[T]&&X<v.slidesGrid[T+v.params.slidesPerGroup]){O=T;s=v.slidesGrid[T+v.params.slidesPerGroup]-v.slidesGrid[T]}}else{if(X>=v.slidesGrid[T]){O=T;s=v.slidesGrid[v.slidesGrid.length-1]-v.slidesGrid[v.slidesGrid.length-2]}}}var N=(X-v.slidesGrid[O])/s;if(S>v.params.longSwipesMs){if(!v.params.longSwipes){v.slideTo(v.activeIndex);return}if(v.swipeDirection==="next"){if(N>=v.params.longSwipesRatio){v.slideTo(O+v.params.slidesPerGroup)}else{v.slideTo(O)}}if(v.swipeDirection==="prev"){if(N>(1-v.params.longSwipesRatio)){v.slideTo(O+v.params.slidesPerGroup)}else{v.slideTo(O)}}}else{if(!v.params.shortSwipes){v.slideTo(v.activeIndex);return}if(v.swipeDirection==="next"){v.slideTo(O+v.params.slidesPerGroup)}if(v.swipeDirection==="prev"){v.slideTo(O)}}};v._slideTo=function(s,p){return v.slideTo(s,p,true,true)};v.slideTo=function(J,I,L,p){if(typeof L==="undefined"){L=true}if(typeof J==="undefined"){J=0}if(J<0){J=0}v.snapIndex=Math.floor(J/v.params.slidesPerGroup);if(v.snapIndex>=v.snapGrid.length){v.snapIndex=v.snapGrid.length-1}var K=-v.snapGrid[v.snapIndex];if(v.params.autoplay&&v.autoplaying){if(p||!v.params.autoplayDisableOnInteraction){v.pauseAutoplay(I)}else{v.stopAutoplay()}}v.updateProgress(K);for(var s=0;s<v.slidesGrid.length;s++){if(-K>=v.slidesGrid[s]){J=s}}if(typeof I==="undefined"){I=v.params.speed}v.previousIndex=v.activeIndex||0;v.activeIndex=J;if(K===v.translate){v.updateClasses();return false}v.onTransitionStart(L);if(I===0){v.setWrapperTransition(0);v.setWrapperTranslate(K);v.onTransitionEnd(L)}else{v.setWrapperTransition(I);v.setWrapperTranslate(K);if(!v.animating){v.animating=true;v.wrapper.transitionEnd(function(){v.onTransitionEnd(L)})}}v.updateClasses();return true};v.onTransitionStart=function(p){if(typeof p==="undefined"){p=true}if(v.lazy){v.lazy.onTransitionStart()}if(p){v.emit("onTransitionStart",v);if(v.activeIndex!==v.previousIndex){v.emit("onSlideChangeStart",v)}}};v.onTransitionEnd=function(p){v.animating=false;v.setWrapperTransition(0);if(typeof p==="undefined"){p=true}if(v.lazy){v.lazy.onTransitionEnd()}if(p){v.emit("onTransitionEnd",v);if(v.activeIndex!==v.previousIndex){v.emit("onSlideChangeEnd",v)}}if(v.params.hashnav&&v.hashnav){v.hashnav.setHash()}};v.slideNext=function(I,s,p){if(v.params.loop){if(v.animating){return false}v.fixLoop();return v.slideTo(v.activeIndex+v.params.slidesPerGroup,s,I,p)}else{return v.slideTo(v.activeIndex+v.params.slidesPerGroup,s,I,p)}};v._slideNext=function(p){return v.slideNext(true,p,true)};v.slidePrev=function(I,s,p){if(v.params.loop){if(v.animating){return false}v.fixLoop();return v.slideTo(v.activeIndex-1,s,I,p)}else{return v.slideTo(v.activeIndex-1,s,I,p)}};v._slidePrev=function(p){return v.slidePrev(true,p,true)};v.slideReset=function(s,p){return v.slideTo(v.activeIndex,p,s)};v.setWrapperTransition=function(p,s){v.wrapper.transition(p);if(v.params.effect!=="slide"&&v.effects[v.params.effect]){v.effects[v.params.effect].setTransition(p)}if(v.params.parallax&&v.parallax){v.parallax.setTransition(p)}if(v.params.scrollbar&&v.scrollbar){v.scrollbar.setTransition(p)}if(v.params.control&&v.controller){v.controller.setTransition(p,s)}v.emit("onSetTransition",v,p)};v.setWrapperTranslate=function(J,s,L){var p=0,K=0,I=0;if(y()){p=v.rtl?-J:J}else{K=J}if(!v.params.virtualTranslate){if(v.support.transforms3d){v.wrapper.transform("translate3d("+p+"px, "+K+"px, "+I+"px)")}else{v.wrapper.transform("translate("+p+"px, "+K+"px)")}}v.translate=y()?p:K;if(s){v.updateActiveIndex()}if(v.params.effect!=="slide"&&v.effects[v.params.effect]){v.effects[v.params.effect].setTranslate(v.translate)}if(v.params.parallax&&v.parallax){v.parallax.setTranslate(v.translate)}if(v.params.scrollbar&&v.scrollbar){v.scrollbar.setTranslate(v.translate)}if(v.params.control&&v.controller){v.controller.setTranslate(v.translate,L)}v.emit("onSetTranslate",v,v.translate)};v.getTranslate=function(K,J){var p,I,L,s;if(typeof J==="undefined"){J="x"}if(v.params.virtualTranslate){return v.rtl?-v.translate:v.translate}L=window.getComputedStyle(K,null);if(window.WebKitCSSMatrix){s=new WebKitCSSMatrix(L.webkitTransform==="none"?"":L.webkitTransform)}else{s=L.MozTransform||L.OTransform||L.MsTransform||L.msTransform||L.transform||L.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");p=s.toString().split(",")}if(J==="x"){if(window.WebKitCSSMatrix){I=s.m41}else{if(p.length===16){I=parseFloat(p[12])}else{I=parseFloat(p[4])}}}if(J==="y"){if(window.WebKitCSSMatrix){I=s.m42}else{if(p.length===16){I=parseFloat(p[13])}else{I=parseFloat(p[5])}}}if(v.rtl&&I){I=-I}return I||0};v.getWrapperTranslate=function(p){if(typeof p==="undefined"){p=y()?"x":"y"}return v.getTranslate(v.wrapper[0],p)};v.observers=[];function x(J,I){I=I||{};var s=window.MutationObserver||window.WebkitMutationObserver;var p=new s(function(K){K.forEach(function(L){v.onResize();v.emit("onObserverUpdate",v,L)})});p.observe(J,{attributes:typeof I.attributes==="undefined"?true:I.attributes,childList:typeof I.childList==="undefined"?true:I.childList,characterData:typeof I.characterData==="undefined"?true:I.characterData});v.observers.push(p)}v.initObservers=function(){if(v.params.observeParents){var s=v.container.parents();for(var p=0;p<s.length;p++){x(s[p])}}x(v.container[0],{childList:false});x(v.wrapper[0],{attributes:false})};v.disconnectObservers=function(){for(var p=0;p<v.observers.length;p++){v.observers[p].disconnect()}v.observers=[]};v.createLoop=function(){v.wrapper.children("."+v.params.slideClass+"."+v.params.slideDuplicateClass).remove();var J=v.wrapper.children("."+v.params.slideClass);v.loopedSlides=parseInt(v.params.loopedSlides||v.params.slidesPerView,10);v.loopedSlides=v.loopedSlides+v.params.loopAdditionalSlides;if(v.loopedSlides>J.length){v.loopedSlides=J.length}var p=[],I=[],s;J.each(function(L,M){var K=b(this);if(L<v.loopedSlides){I.push(M)}if(L<J.length&&L>=J.length-v.loopedSlides){p.push(M)}K.attr("data-swiper-slide-index",L)});for(s=0;s<I.length;s++){v.wrapper.append(b(I[s].cloneNode(true)).addClass(v.params.slideDuplicateClass))}for(s=p.length-1;s>=0;s--){v.wrapper.prepend(b(p[s].cloneNode(true)).addClass(v.params.slideDuplicateClass))}};v.destroyLoop=function(){v.wrapper.children("."+v.params.slideClass+"."+v.params.slideDuplicateClass).remove();v.slides.removeAttr("data-swiper-slide-index")};v.fixLoop=function(){var p;if(v.activeIndex<v.loopedSlides){p=v.slides.length-v.loopedSlides*3+v.activeIndex;p=p+v.loopedSlides;v.slideTo(p,0,false,true)}else{if((v.params.slidesPerView==="auto"&&v.activeIndex>=v.loopedSlides*2)||(v.activeIndex>v.slides.length-v.params.slidesPerView*2)){p=-v.slides.length+v.activeIndex+v.loopedSlides;p=p+v.loopedSlides;v.slideTo(p,0,false,true)}}};v.appendSlide=function(s){if(v.params.loop){v.destroyLoop()}if(typeof s==="object"&&s.length){for(var p=0;p<s.length;p++){if(s[p]){v.wrapper.append(s[p])}}}else{v.wrapper.append(s)}if(v.params.loop){v.createLoop()}if(!(v.params.observer&&v.support.observer)){v.update(true)}};v.prependSlide=function(s){if(v.params.loop){v.destroyLoop()}var I=v.activeIndex+1;if(typeof s==="object"&&s.length){for(var p=0;p<s.length;p++){if(s[p]){v.wrapper.prepend(s[p])}}I=v.activeIndex+s.length}else{v.wrapper.prepend(s)}if(v.params.loop){v.createLoop()}if(!(v.params.observer&&v.support.observer)){v.update(true)}v.slideTo(I,0,false)};v.removeSlide=function(I){if(v.params.loop){v.destroyLoop()}var J=v.activeIndex,p;if(typeof I==="object"&&I.length){for(var s=0;s<I.length;s++){p=I[s];if(v.slides[p]){v.slides.eq(p).remove()}if(p<J){J--}}J=Math.max(J,0)}else{p=I;if(v.slides[p]){v.slides.eq(p).remove()}if(p<J){J--}J=Math.max(J,0)}if(!(v.params.observer&&v.support.observer)){v.update(true)}v.slideTo(J,0,false)};v.removeAllSlides=function(){var s=[];for(var p=0;p<v.slides.length;p++){s.push(p)}v.removeSlide(s)};v.effects={fade:{fadeIndex:null,setTranslate:function(){for(var J=0;J<v.slides.length;J++){var s=v.slides.eq(J);var L=s[0].swiperSlideOffset;var I=-L;if(!v.params.virtualTranslate){I=I-v.translate}var p=0;if(!y()){p=I;I=0}var K=v.params.fade.crossFade?Math.max(1-Math.abs(s[0].progress),0):1+Math.min(Math.max(s[0].progress,-1),0);if(K>0&&K<1){v.effects.fade.fadeIndex=J}s.css({opacity:K}).transform("translate3d("+I+"px, "+p+"px, 0px)")}},setTransition:function(p){v.slides.transition(p);if(v.params.virtualTranslate&&p!==0){var s=v.effects.fade.fadeIndex!==null?v.effects.fade.fadeIndex:v.activeIndex;v.slides.eq(s).transitionEnd(function(){var J=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var I=0;I<J.length;I++){v.wrapper.trigger(J[I])}})}}},cube:{setTranslate:function(){var K=0,N;if(v.params.cube.shadow){if(y()){N=v.wrapper.find(".swiper-cube-shadow");if(N.length===0){N=b('<div class="swiper-cube-shadow"></div>');v.wrapper.append(N)}N.css({height:v.width+"px"})}else{N=v.container.find(".swiper-cube-shadow");if(N.length===0){N=b('<div class="swiper-cube-shadow"></div>');v.container.append(N)}}}for(var U=0;U<v.slides.length;U++){var p=v.slides.eq(U);var M=U*90;var W=Math.floor(M/360);if(v.rtl){M=-M;W=Math.floor(-M/360)}var J=Math.max(Math.min(p[0].progress,1),-1);var Y=0,X=0,V=0;if(U%4===0){Y=-W*4*v.size;V=0}else{if((U-1)%4===0){Y=0;V=-W*4*v.size}else{if((U-2)%4===0){Y=v.size+W*4*v.size;V=v.size}else{if((U-3)%4===0){Y=-v.size;V=3*v.size+v.size*4*W}}}}if(v.rtl){Y=-Y}if(!y()){X=Y;Y=0}var O="rotateX("+(y()?0:-M)+"deg) rotateY("+(y()?M:0)+"deg) translate3d("+Y+"px, "+X+"px, "+V+"px)";if(J<=1&&J>-1){K=U*90+J*90;if(v.rtl){K=-U*90-J*90}}p.transform(O);if(v.params.cube.slideShadows){var R=y()?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top");var s=y()?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom");if(R.length===0){R=b('<div class="swiper-slide-shadow-'+(y()?"left":"top")+'"></div>');p.append(R)}if(s.length===0){s=b('<div class="swiper-slide-shadow-'+(y()?"right":"bottom")+'"></div>');p.append(s)}if(R.length){R[0].style.opacity=-p[0].progress}if(s.length){s[0].style.opacity=p[0].progress}}}v.wrapper.css({"-webkit-transform-origin":"50% 50% -"+(v.size/2)+"px","-moz-transform-origin":"50% 50% -"+(v.size/2)+"px","-ms-transform-origin":"50% 50% -"+(v.size/2)+"px","transform-origin":"50% 50% -"+(v.size/2)+"px"});if(v.params.cube.shadow){if(y()){N.transform("translate3d(0px, "+(v.width/2+v.params.cube.shadowOffset)+"px, "+(-v.width/2)+"px) rotateX(90deg) rotateZ(0deg) scale("+(v.params.cube.shadowScale)+")")}else{var Q=Math.abs(K)-Math.floor(Math.abs(K)/90)*90;var L=1.5-(Math.sin(Q*2*Math.PI/360)/2+Math.cos(Q*2*Math.PI/360)/2);var T=v.params.cube.shadowScale,S=v.params.cube.shadowScale/L,I=v.params.cube.shadowOffset;N.transform("scale3d("+T+", 1, "+S+") translate3d(0px, "+(v.height/2+I)+"px, "+(-v.height/2/S)+"px) rotateX(-90deg)")}}var P=(v.isSafari||v.isUiWebView)?(-v.size/2):0;v.wrapper.transform("translate3d(0px,0,"+P+"px) rotateX("+(y()?0:K)+"deg) rotateY("+(y()?-K:0)+"deg)")},setTransition:function(p){v.slides.transition(p).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(p);if(v.params.cube.shadow&&!y()){v.container.find(".swiper-cube-shadow").transition(p)}}},coverflow:{setTranslate:function(){var R=v.translate;var V=y()?-R+v.width/2:-R+v.height/2;var U=y()?v.params.coverflow.rotate:-v.params.coverflow.rotate;var Q=v.params.coverflow.depth;for(var T=0,K=v.slides.length;T<K;T++){var p=v.slides.eq(T);var L=v.slidesSizesGrid[T];var M=p[0].swiperSlideOffset;var N=(V-M-L/2)/L*v.params.coverflow.modifier;var O=y()?U*N:0;var P=y()?0:U*N;var W=-Q*Math.abs(N);var X=y()?0:v.params.coverflow.stretch*(N);var Y=y()?v.params.coverflow.stretch*(N):0;if(Math.abs(Y)<0.001){Y=0}if(Math.abs(X)<0.001){X=0}if(Math.abs(W)<0.001){W=0}if(Math.abs(O)<0.001){O=0}if(Math.abs(P)<0.001){P=0}var J="translate3d("+Y+"px,"+X+"px,"+W+"px)  rotateX("+P+"deg) rotateY("+O+"deg)";p.transform(J);p[0].style.zIndex=-Math.abs(Math.round(N))+1;if(v.params.coverflow.slideShadows){var S=y()?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top");var s=y()?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom");if(S.length===0){S=b('<div class="swiper-slide-shadow-'+(y()?"left":"top")+'"></div>');p.append(S)}if(s.length===0){s=b('<div class="swiper-slide-shadow-'+(y()?"right":"bottom")+'"></div>');p.append(s)}if(S.length){S[0].style.opacity=N>0?N:0}if(s.length){s[0].style.opacity=(-N)>0?-N:0}}}if(v.browser.ie){var I=v.wrapper[0].style;I.perspectiveOrigin=V+"px 50%"}},setTransition:function(p){v.slides.transition(p).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(p)}}};v.lazy={initialImageLoaded:false,loadImageInSlide:function(I){if(typeof I==="undefined"){return}if(v.slides.length===0){return}var p=v.slides.eq(I);var s=p.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");if(s.length===0){return}s.each(function(){var J=b(this);J.addClass("swiper-lazy-loading");var K=J.attr("data-src");v.loadImage(J[0],K,false,function(){J.attr("src",K);J.removeAttr("data-src");J.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading");p.find(".swiper-lazy-preloader, .preloader").remove();v.emit("onLazyImageReady",v,p[0],J[0])});v.emit("onLazyImageLoad",v,p[0],J[0])})},load:function(){if(v.params.watchSlidesVisibility){v.wrapper.children("."+v.params.slideVisibleClass).each(function(){v.lazy.loadImageInSlide(b(this).index())})}else{if(v.params.slidesPerView>1){for(var s=v.activeIndex;s<v.activeIndex+v.params.slidesPerView;s++){if(v.slides[s]){v.lazy.loadImageInSlide(s)}}}else{v.lazy.loadImageInSlide(v.activeIndex)}}if(v.params.lazyLoadingInPrevNext){var I=v.wrapper.children("."+v.params.slideNextClass);if(I.length>0){v.lazy.loadImageInSlide(I.index())}var p=v.wrapper.children("."+v.params.slidePrevClass);if(p.length>0){v.lazy.loadImageInSlide(p.index())}}},onTransitionStart:function(){if(v.params.lazyLoading){if(v.params.lazyLoadingOnTransitionStart||(!v.params.lazyLoadingOnTransitionStart&&!v.lazy.initialImageLoaded)){v.lazy.initialImageLoaded=true;v.lazy.load()}}},onTransitionEnd:function(){if(v.params.lazyLoading&&!v.params.lazyLoadingOnTransitionStart){v.lazy.load()}}};v.scrollbar={set:function(){if(!v.params.scrollbar){return}var p=v.scrollbar;p.track=b(v.params.scrollbar);p.drag=p.track.find(".swiper-scrollbar-drag");if(p.drag.length===0){p.drag=b('<div class="swiper-scrollbar-drag"></div>');p.track.append(p.drag)}p.drag[0].style.width="";p.drag[0].style.height="";p.trackSize=y()?p.track[0].offsetWidth:p.track[0].offsetHeight;p.divider=v.size/v.virtualSize;p.moveDivider=p.divider*(p.trackSize/v.size);p.dragSize=p.trackSize*p.divider;if(y()){p.drag[0].style.width=p.dragSize+"px"}else{p.drag[0].style.height=p.dragSize+"px"}if(p.divider>=1){p.track[0].style.display="none"}else{p.track[0].style.display=""}if(v.params.scrollbarHide){p.track[0].style.opacity=0}},setTranslate:function(){if(!v.params.scrollbar){return}var I=v.scrollbar;var s;var p=I.dragSize;s=(I.trackSize-I.dragSize)*v.progress;if(v.rtl&&y()){s=-s;if(s>0){p=I.dragSize-s;s=0}else{if(-s+I.dragSize>I.trackSize){p=I.trackSize+s}}}else{if(s<0){p=I.dragSize+s;s=0}else{if(s+I.dragSize>I.trackSize){p=I.trackSize-s}}}if(y()){if(v.support.transforms3d){I.drag.transform("translate3d("+(s)+"px, 0, 0)")}else{I.drag.transform("translateX("+(s)+"px)")}I.drag[0].style.width=p+"px"}else{if(v.support.transforms3d){I.drag.transform("translate3d(0px, "+(s)+"px, 0)")}else{I.drag.transform("translateY("+(s)+"px)")}I.drag[0].style.height=p+"px"}if(v.params.scrollbarHide){clearTimeout(I.timeout);I.track[0].style.opacity=1;I.timeout=setTimeout(function(){I.track[0].style.opacity=0;I.track.transition(400)},1000)}},setTransition:function(p){if(!v.params.scrollbar){return}v.scrollbar.drag.transition(p)}};v.controller={setTranslate:function(J,L){var I=v.params.control;var K,p;if(v.isArray(I)){for(var s=0;s<I.length;s++){if(I[s]!==L&&I[s] instanceof a){J=I[s].rtl&&I[s].params.direction==="horizontal"?-v.translate:v.translate;K=(I[s].maxTranslate()-I[s].minTranslate())/(v.maxTranslate()-v.minTranslate());p=(J-v.minTranslate())*K+I[s].minTranslate();if(v.params.controlInverse){p=I[s].maxTranslate()-p}I[s].updateProgress(p);I[s].setWrapperTranslate(p,false,v);I[s].updateActiveIndex()}}}else{if(I instanceof a&&L!==I){J=I.rtl&&I.params.direction==="horizontal"?-v.translate:v.translate;K=(I.maxTranslate()-I.minTranslate())/(v.maxTranslate()-v.minTranslate());p=(J-v.minTranslate())*K+I.minTranslate();if(v.params.controlInverse){p=I.maxTranslate()-p}I.updateProgress(p);I.setWrapperTranslate(p,false,v);I.updateActiveIndex()}}},setTransition:function(I,J){var s=v.params.control;if(v.isArray(s)){for(var p=0;p<s.length;p++){if(s[p]!==J&&s[p] instanceof a){s[p].setWrapperTransition(I,v)}}}else{if(s instanceof a&&J!==s){s.setWrapperTransition(I,v)}}}};function e(K,J){K=b(K);var L,I,s;L=K.attr("data-swiper-parallax")||"0";I=K.attr("data-swiper-parallax-x");s=K.attr("data-swiper-parallax-y");if(I||s){I=I||"0";s=s||"0"}else{if(y()){I=L;s="0"}else{s=L;I="0"}}if((I).indexOf("%")>=0){I=parseInt(I,10)*J+"%"}else{I=I*J+"px"}if((s).indexOf("%")>=0){s=parseInt(s,10)*J+"%"}else{s=s*J+"px"}K.transform("translate3d("+I+", "+s+",0px)")}v.parallax={setTranslate:function(){v.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){e(this,v.progress)});v.slides.each(function(){var p=b(this);p.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var s=Math.min(Math.max(p[0].progress,-1),1);e(this,s)})})},setTransition:function(p){if(typeof p==="undefined"){p=v.params.speed}v.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var I=b(this);var s=parseInt(I.attr("data-swiper-parallax-duration"),10)||p;if(p===0){s=0}I.transition(s)})}};v._plugins=[];for(var f in v.plugins){if(v.plugins.hasOwnProperty(f)){var w=v.plugins[f](v,v.params[f]);if(w){v._plugins.push(w)}}}v.callPlugins=function(p){for(var s=0;s<v._plugins.length;s++){if(p in v._plugins[s]){v._plugins[s][p](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}};function o(p){if(p.indexOf("on")!==0){if(p[0]!==p[0].toUpperCase()){p="on"+p[0].toUpperCase()+p.substring(1)}else{p="on"+p}}return p}v.emitterEventListeners={};v.emit=function(p){if(v.params[p]){v.params[p](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}var s;if(!v){return}if(v.emitterEventListeners[p]){for(s=0;s<v.emitterEventListeners[p].length;s++){v.emitterEventListeners[p][s](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}if(v.callPlugins){v.callPlugins(p,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}};v.on=function(p,s){p=o(p);if(!v.emitterEventListeners[p]){v.emitterEventListeners[p]=[]}v.emitterEventListeners[p].push(s);return v};v.off=function(p,I){var s;p=o(p);if(typeof I==="undefined"){v.emitterEventListeners[p]=[];return v}if(!v.emitterEventListeners[p]||v.emitterEventListeners[p].length===0){return}for(s=0;s<v.emitterEventListeners[p].length;s++){if(v.emitterEventListeners[p][s]===I){v.emitterEventListeners[p].splice(s,1)}}return v};v.once=function(s,I){s=o(s);var p=function(){I(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);v.off(s,p)};v.on(s,p);return v};v.a11y={makeFocusable:function(p){p[0].tabIndex="0";return p},addRole:function(p,s){p.attr("role",s);return p},addLabel:function(s,p){s.attr("aria-label",p);return s},disable:function(p){p.attr("aria-disabled",true);return p},enable:function(p){p.attr("aria-disabled",false);return p},onEnterKey:function(p){if(p.keyCode!==13){return}if(b(p.target).is(v.params.nextButton)){v.onClickNext(p);if(v.isEnd){v.a11y.notify(v.params.lastSlideMsg)}else{v.a11y.notify(v.params.nextSlideMsg)}}else{if(b(p.target).is(v.params.prevButton)){v.onClickPrev(p);if(v.isBeginning){v.a11y.notify(v.params.firstSlideMsg)}else{v.a11y.notify(v.params.prevSlideMsg)}}}},liveRegion:b('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(p){var s=v.a11y.liveRegion;if(s.length===0){return}s.html("");s.html(p)},init:function(){if(v.params.nextButton){var s=b(v.params.nextButton);v.a11y.makeFocusable(s);v.a11y.addRole(s,"button");v.a11y.addLabel(s,v.params.nextSlideMsg)}if(v.params.prevButton){var p=b(v.params.prevButton);v.a11y.makeFocusable(p);v.a11y.addRole(p,"button");v.a11y.addLabel(p,v.params.prevSlideMsg)}b(v.container).append(v.a11y.liveRegion)},destroy:function(){if(v.a11y.liveRegion&&v.a11y.liveRegion.length>0){v.a11y.liveRegion.remove()}}};v.init=function(){if(v.params.loop){v.createLoop()}v.updateContainerSize();v.updateSlidesSize();v.updatePagination();if(v.params.scrollbar&&v.scrollbar){v.scrollbar.set()}if(v.params.effect!=="slide"&&v.effects[v.params.effect]){if(!v.params.loop){v.updateProgress()}v.effects[v.params.effect].setTranslate()}if(v.params.loop){v.slideTo(v.params.initialSlide+v.loopedSlides,0,v.params.runCallbacksOnInit)}else{v.slideTo(v.params.initialSlide,0,v.params.runCallbacksOnInit);if(v.params.initialSlide===0){if(v.parallax&&v.params.parallax){v.parallax.setTranslate()}if(v.lazy&&v.params.lazyLoading){v.lazy.load()}}}v.attachEvents();if(v.params.observer&&v.support.observer){v.initObservers()}if(v.params.preloadImages&&!v.params.lazyLoading){v.preloadImages()}if(v.params.autoplay){v.startAutoplay()}if(v.params.keyboardControl){if(v.enableKeyboardControl){v.enableKeyboardControl()}}if(v.params.mousewheelControl){if(v.enableMousewheelControl){v.enableMousewheelControl()}}if(v.params.hashnav){if(v.hashnav){v.hashnav.init()}}if(v.params.a11y&&v.a11y){v.a11y.init()}v.emit("onInit",v)};v.cleanupStyles=function(){v.container.removeClass(v.classNames.join(" ")).removeAttr("style");v.wrapper.removeAttr("style");if(v.slides&&v.slides.length){v.slides.removeClass([v.params.slideVisibleClass,v.params.slideActiveClass,v.params.slideNextClass,v.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row")}if(v.paginationContainer&&v.paginationContainer.length){v.paginationContainer.removeClass(v.params.paginationHiddenClass)}if(v.bullets&&v.bullets.length){v.bullets.removeClass(v.params.bulletActiveClass)}if(v.params.prevButton){b(v.params.prevButton).removeClass(v.params.buttonDisabledClass)}if(v.params.nextButton){b(v.params.nextButton).removeClass(v.params.buttonDisabledClass)}if(v.params.scrollbar&&v.scrollbar){if(v.scrollbar.track&&v.scrollbar.track.length){v.scrollbar.track.removeAttr("style")}if(v.scrollbar.drag&&v.scrollbar.drag.length){v.scrollbar.drag.removeAttr("style")}}};v.destroy=function(s,p){v.detachEvents();v.stopAutoplay();if(v.params.loop){v.destroyLoop()}if(p){v.cleanupStyles()}v.disconnectObservers();if(v.params.keyboardControl){if(v.disableKeyboardControl){v.disableKeyboardControl()}}if(v.params.mousewheelControl){if(v.disableMousewheelControl){v.disableMousewheelControl()}}if(v.params.a11y&&v.a11y){v.a11y.destroy()}v.emit("onDestroy");if(s!==false){v=null}};v.init();return v};a.prototype={defaults:{direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:false,autoplayDisableOnInteraction:true,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,setWrapperSize:false,virtualTranslate:false,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},cube:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:0.94},fade:{crossFade:false},parallax:false,scrollbar:null,scrollbarHide:true,keyboardControl:false,mousewheelControl:false,mousewheelForceToAxis:false,hashnav:false,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:0.5,longSwipesMs:300,followFinger:true,onlyExternal:false,threshold:0,touchMoveStopPropagation:true,pagination:null,paginationClickable:false,paginationHide:false,paginationBulletRender:null,resistance:true,resistanceRatio:0.85,nextButton:null,prevButton:null,watchSlidesProgress:false,watchSlidesVisibility:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingOnTransitionStart:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:false,allowSwipeToPrev:true,allowSwipeToNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:false,observeParents:false,a11y:false,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:true},isSafari:(function(){var c=navigator.userAgent.toLowerCase();return(c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0)})(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(c){return Object.prototype.toString.apply(c)==="[object Array]"},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:(window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1)||(window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1)},device:(function(){var e=navigator.userAgent;var d=e.match(/(Android);?[\s\/]+([\d.]+)?/);var c=e.match(/(iPad).*OS\s([\d_]+)/);var f=!c&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:c||f||c,android:d}})(),support:{touch:(window.Modernizr&&Modernizr.touch===true)||(function(){return !!(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch)})(),transforms3d:(window.Modernizr&&Modernizr.csstransforms3d===true)||(function(){var c=document.createElement("div").style;return("webkitPerspective" in c||"MozPerspective" in c||"OPerspective" in c||"MsPerspective" in c||"perspective" in c)})(),flexbox:(function(){var e=document.createElement("div").style;var d=("alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient").split(" ");for(var c=0;c<d.length;c++){if(d[c] in e){return true}}})(),observer:(function(){return("MutationObserver" in window||"WebkitMutationObserver" in window)})()},plugins:{}};b.Swiper=a}(Zepto);+function(a){a.Swiper.prototype.defaults.pagination=".page-current .swiper-pagination";a.swiper=function(b,c){return new a.Swiper(b,c)};a.fn.swiper=function(b){return new a.Swiper(this,b)};a.initSwiper=function(f){var g=a(f||document.body);var c=g.find(".swiper-container");if(c.length===0){return}function e(k){function i(){k.destroy();g.off("pageBeforeRemove",i)}g.on("pageBeforeRemove",i)}for(var d=0;d<c.length;d++){var b=c.eq(d);var h;if(b.data("swiper")){b.data("swiper").update(true);continue}else{h=b.dataset()}var j=a.swiper(b[0],h);e(j)}};a.reinitSwiper=function(e){var f=a(e||".page-current");var d=f.find(".swiper-container");if(d.length===0){return}for(var c=0;c<d.length;c++){var b=d[0].swiper;if(b){b.update(true)}}}}(Zepto);+function(b){var a=function(d){var y=this,V;var E=this.defaults;d=d||{};for(var x in E){if(typeof d[x]==="undefined"){d[x]=E[x]}}y.params=d;var X=y.params.navbarTemplate||'<header class="bar bar-nav"><a class="icon icon-left pull-left photo-browser-close-link'+(y.params.type==="popup"?" close-popup":"")+'"></a><h1 class="title"><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+y.params.ofText+'</span> <span class="photo-browser-total"></span></div></h1></header>';var e=y.params.toolbarTemplate||'<nav class="bar bar-tab"><a class="tab-item photo-browser-prev" href="#"><i class="icon icon-prev"></i></a><a class="tab-item photo-browser-next" href="#"><i class="icon icon-next"></i></a></nav>';var k=y.params.template||'<div class="photo-browser photo-browser-'+y.params.theme+'">{{navbar}}{{toolbar}}<div data-page="photo-browser-slides" class="content">{{captions}}<div class="photo-browser-swiper-container swiper-container"><div class="photo-browser-swiper-wrapper swiper-wrapper">{{photos}}</div></div></div></div>';var c=!y.params.lazyLoading?(y.params.photoTemplate||'<div class="photo-browser-slide swiper-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>'):(y.params.photoLazyTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy swiper-slide"><div class="preloader'+(y.params.theme==="dark"?" preloader-white":"")+'"></div><span class="photo-browser-zoom-container"><img data-src="{{url}}" class="swiper-lazy"></span></div>');var h=y.params.captionsTheme||y.params.theme;var Z=y.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+h+'">{{captions}}</div>';var K=y.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>';var A=y.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide swiper-slide">{{html}}</div>';var N="";var B="";for(V=0;V<y.params.photos.length;V++){var m=y.params.photos[V];var v="";if(typeof(m)==="string"||m instanceof String){if(m.indexOf("<")>=0||m.indexOf(">")>=0){v=A.replace(/{{html}}/g,m)}else{v=c.replace(/{{url}}/g,m)}}else{if(typeof(m)==="object"){if(m.hasOwnProperty("html")&&m.html.length>0){v=A.replace(/{{html}}/g,m.html)}else{if(m.hasOwnProperty("url")&&m.url.length>0){v=c.replace(/{{url}}/g,m.url)}}if(m.hasOwnProperty("caption")&&m.caption.length>0){B+=K.replace(/{{caption}}/g,m.caption).replace(/{{captionIndex}}/g,V)}else{v=v.replace(/{{caption}}/g,"")}}}N+=v}var Y=k.replace("{{navbar}}",(y.params.navbar?X:"")).replace("{{noNavbar}}",(y.params.navbar?"":"no-navbar")).replace("{{photos}}",N).replace("{{captions}}",Z.replace(/{{captions}}/g,B)).replace("{{toolbar}}",(y.params.toolbar?e:""));y.activeIndex=y.params.initialSlide;y.openIndex=y.activeIndex;y.opened=false;y.open=function(i){if(typeof i==="undefined"){i=y.activeIndex}i=parseInt(i,10);if(y.opened&&y.swiper){y.swiper.slideTo(i);return}y.opened=true;y.openIndex=i;if(y.params.type==="standalone"){b(y.params.container).append(Y)}if(y.params.type==="popup"){y.popup=b.popup('<div class="popup photo-browser-popup">'+Y+"</div>");b(y.popup).on("closed",y.onPopupClose)}if(y.params.type==="page"){b(document).on("pageBeforeInit",y.onPageBeforeInit);b(document).on("pageBeforeRemove",y.onPageBeforeRemove);if(!y.params.view){y.params.view=b.mainView}y.params.view.loadContent(Y);return}y.layout(y.openIndex);if(y.params.onOpen){y.params.onOpen(y)}};y.close=function(){y.opened=false;if(!y.swiperContainer||y.swiperContainer.length===0){return}if(y.params.onClose){y.params.onClose(y)}y.attachEvents(true);if(y.params.type==="standalone"){y.container.removeClass("photo-browser-in").addClass("photo-browser-out").transitionEnd(function(){y.container.remove()})}y.swiper.destroy();y.swiper=y.swiperContainer=y.swiperWrapper=y.slides=p=r=q=undefined};y.onPopupClose=function(){y.close();b(y.popup).off("pageBeforeInit",y.onPopupClose)};y.onPageBeforeInit=function(i){if(i.detail.page.name==="photo-browser-slides"){y.layout(y.openIndex)}b(document).off("pageBeforeInit",y.onPageBeforeInit)};y.onPageBeforeRemove=function(i){if(i.detail.page.name==="photo-browser-slides"){y.close()}b(document).off("pageBeforeRemove",y.onPageBeforeRemove)};y.onSliderTransitionStart=function(i){y.activeIndex=i.activeIndex;var af=i.activeIndex+1;var ae=i.slides.length;if(y.params.loop){ae=ae-2;af=af-i.loopedSlides;if(af<1){af=ae+af}if(af>ae){af=af-ae}}y.container.find(".photo-browser-current").text(af);y.container.find(".photo-browser-total").text(ae);b(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive");if(i.isBeginning&&!y.params.loop){b(".photo-browser-prev").addClass("photo-browser-link-inactive")}if(i.isEnd&&!y.params.loop){b(".photo-browser-next").addClass("photo-browser-link-inactive")}if(y.captions.length>0){y.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var ad=y.params.loop?i.slides.eq(i.activeIndex).attr("data-swiper-slide-index"):y.activeIndex;y.captionsContainer.find('[data-caption-index="'+ad+'"]').addClass("photo-browser-caption-active")}var ac=i.slides.eq(i.previousIndex).find("video");if(ac.length>0){if("pause" in ac[0]){ac[0].pause()}}if(y.params.onSlideChangeStart){y.params.onSlideChangeStart(i)}};y.onSliderTransitionEnd=function(i){if(y.params.zoom&&p&&i.previousIndex!==i.activeIndex){r.transform("translate3d(0,0,0) scale(1)");q.transform("translate3d(0,0,0)");p=r=q=undefined;C=j=1}if(y.params.onSlideChangeEnd){y.params.onSlideChangeEnd(i)}};y.layout=function(i){if(y.params.type==="page"){y.container=b(".photo-browser-swiper-container").parents(".view")}else{y.container=b(".photo-browser")}if(y.params.type==="standalone"){y.container.addClass("photo-browser-in")}y.swiperContainer=y.container.find(".photo-browser-swiper-container");y.swiperWrapper=y.container.find(".photo-browser-swiper-wrapper");y.slides=y.container.find(".photo-browser-slide");y.captionsContainer=y.container.find(".photo-browser-captions");y.captions=y.container.find(".photo-browser-caption");var ac={nextButton:y.params.nextButton||".photo-browser-next",prevButton:y.params.prevButton||".photo-browser-prev",indexButton:y.params.indexButton,initialSlide:i,spaceBetween:y.params.spaceBetween,speed:y.params.speed,loop:y.params.loop,lazyLoading:y.params.lazyLoading,lazyLoadingInPrevNext:y.params.lazyLoadingInPrevNext,lazyLoadingOnTransitionStart:y.params.lazyLoadingOnTransitionStart,preloadImages:y.params.lazyLoading?false:true,onTap:function(ad,ae){if(y.params.onTap){y.params.onTap(ad,ae)}},onClick:function(ad,ae){if(y.params.exposition){y.toggleExposition()}if(y.params.onClick){y.params.onClick(ad,ae)}},onDoubleTap:function(ad,ae){y.toggleZoom(b(ae.target).parents(".photo-browser-slide"));if(y.params.onDoubleTap){y.params.onDoubleTap(ad,ae)}},onTransitionStart:function(ad){y.onSliderTransitionStart(ad)},onTransitionEnd:function(ad){y.onSliderTransitionEnd(ad)},onLazyImageLoad:function(af,ad,ae){if(y.params.onLazyImageLoad){y.params.onLazyImageLoad(y,ad,ae)}},onLazyImageReady:function(af,ad,ae){b(ad).removeClass("photo-browser-slide-lazy");if(y.params.onLazyImageReady){y.params.onLazyImageReady(y,ad,ae)}}};if(y.params.swipeToClose&&y.params.type!=="page"){ac.onTouchStart=y.swipeCloseTouchStart;ac.onTouchMoveOpposite=y.swipeCloseTouchMove;ac.onTouchEnd=y.swipeCloseTouchEnd}y.swiper=b.swiper(y.swiperContainer,ac);if(i===0){y.onSliderTransitionStart(y.swiper)}y.attachEvents()};y.attachEvents=function(ad){var i=ad?"off":"on";if(y.params.zoom){var ac=y.params.loop?y.swiper.slides:y.slides;ac[i]("gesturestart",y.onSlideGestureStart);ac[i]("gesturechange",y.onSlideGestureChange);ac[i]("gestureend",y.onSlideGestureEnd);ac[i]("touchstart",y.onSlideTouchStart);ac[i]("touchmove",y.onSlideTouchMove);ac[i]("touchend",y.onSlideTouchEnd)}y.container.find(".photo-browser-close-link")[i]("click",y.close)};y.exposed=false;y.toggleExposition=function(){if(y.container){y.container.toggleClass("photo-browser-exposed")}if(y.params.expositionHideCaptions){y.captionsContainer.toggleClass("photo-browser-captions-exposed")}y.exposed=!y.exposed};y.enableExposition=function(){if(y.container){y.container.addClass("photo-browser-exposed")}if(y.params.expositionHideCaptions){y.captionsContainer.addClass("photo-browser-captions-exposed")}y.exposed=true};y.disableExposition=function(){if(y.container){y.container.removeClass("photo-browser-exposed")}if(y.params.expositionHideCaptions){y.captionsContainer.removeClass("photo-browser-captions-exposed")}y.exposed=false};var p,r,q,C=1,j=1,J=false;y.onSlideGestureStart=function(){if(!p){p=b(this);r=p.find("img, svg, canvas");q=r.parent(".photo-browser-zoom-container");if(q.length===0){r=undefined;return}}r.transition(0);J=true};y.onSlideGestureChange=function(i){if(!r||r.length===0){return}C=i.scale*j;if(C>y.params.maxZoom){C=y.params.maxZoom-1+Math.pow((C-y.params.maxZoom+1),0.5)}if(C<y.params.minZoom){C=y.params.minZoom+1-Math.pow((y.params.minZoom-C+1),0.5)}r.transform("translate3d(0,0,0) scale("+C+")")};y.onSlideGestureEnd=function(){if(!r||r.length===0){return}C=Math.max(Math.min(C,y.params.maxZoom),y.params.minZoom);r.transition(y.params.speed).transform("translate3d(0,0,0) scale("+C+")");j=C;J=false;if(C===1){p=undefined}};y.toggleZoom=function(){if(!p){p=y.swiper.slides.eq(y.swiper.activeIndex);r=p.find("img, svg, canvas");q=r.parent(".photo-browser-zoom-container")}if(!r||r.length===0){return}q.transition(300).transform("translate3d(0,0,0)");if(C&&C!==1){C=j=1;r.transition(300).transform("translate3d(0,0,0) scale(1)");p=undefined}else{C=j=y.params.maxZoom;r.transition(300).transform("translate3d(0,0,0) scale("+C+")")}};var w,z,o,n,H,D,u,t,ab,G,aa={},S={},g,f,R,F,U,Q,T;y.onSlideTouchStart=function(i){if(!r||r.length===0){return}if(w){return}if(b.device.os==="android"){i.preventDefault()}w=true;aa.x=i.type==="touchstart"?i.targetTouches[0].pageX:i.pageX;aa.y=i.type==="touchstart"?i.targetTouches[0].pageY:i.pageY};y.onSlideTouchMove=function(ad){if(!r||r.length===0){return}y.swiper.allowClick=false;if(!w||!p){return}if(!z){ab=r[0].offsetWidth;G=r[0].offsetHeight;g=b.getTranslate(q[0],"x")||0;f=b.getTranslate(q[0],"y")||0;q.transition(0)}var i=ab*C;var ac=G*C;if(i<y.swiper.width&&ac<y.swiper.height){return}H=Math.min((y.swiper.width/2-i/2),0);u=-H;D=Math.min((y.swiper.height/2-ac/2),0);t=-D;S.x=ad.type==="touchmove"?ad.targetTouches[0].pageX:ad.pageX;S.y=ad.type==="touchmove"?ad.targetTouches[0].pageY:ad.pageY;if(!z&&!J){if((Math.floor(H)===Math.floor(g)&&S.x<aa.x)||(Math.floor(u)===Math.floor(g)&&S.x>aa.x)){w=false;return}}ad.preventDefault();ad.stopPropagation();z=true;o=S.x-aa.x+g;n=S.y-aa.y+f;if(o<H){o=H+1-Math.pow((H-o+1),0.8)}if(o>u){o=u-1+Math.pow((o-u+1),0.8)}if(n<D){n=D+1-Math.pow((D-n+1),0.8)}if(n>t){n=t-1+Math.pow((n-t+1),0.8)}if(!R){R=S.x}if(!Q){Q=S.y}if(!F){F=Date.now()}U=(S.x-R)/(Date.now()-F)/2;T=(S.y-Q)/(Date.now()-F)/2;if(Math.abs(S.x-R)<2){U=0}if(Math.abs(S.y-Q)<2){T=0}R=S.x;Q=S.y;F=Date.now();q.transform("translate3d("+o+"px, "+n+"px,0)")};y.onSlideTouchEnd=function(){if(!r||r.length===0){return}if(!w||!z){w=false;z=false;return}w=false;z=false;var aj=300;var ai=300;var ac=U*aj;var af=o+ac;var i=T*ai;var ae=n+i;if(U!==0){aj=Math.abs((af-o)/U)}if(T!==0){ai=Math.abs((ae-n)/T)}var ag=Math.max(aj,ai);o=af;n=ae;var ad=ab*C;var ah=G*C;H=Math.min((y.swiper.width/2-ad/2),0);u=-H;D=Math.min((y.swiper.height/2-ah/2),0);t=-D;o=Math.max(Math.min(o,u),H);n=Math.max(Math.min(n,t),D);q.transition(ag).transform("translate3d("+o+"px, "+n+"px,0)")};var I=false;var P=true;var W,M,s,O=false,L,l;y.swipeCloseTouchStart=function(){if(!P){return}I=true};y.swipeCloseTouchMove=function(i,ad){if(!I){return}if(!O){O=true;M=ad.type==="touchmove"?ad.targetTouches[0].pageY:ad.pageY;L=y.swiper.slides.eq(y.swiper.activeIndex);l=(new Date()).getTime()}ad.preventDefault();s=ad.type==="touchmove"?ad.targetTouches[0].pageY:ad.pageY;W=M-s;var ac=1-Math.abs(W)/300;L.transform("translate3d(0,"+(-W)+"px,0)");y.swiper.container.css("opacity",ac).transition(0)};y.swipeCloseTouchEnd=function(){I=false;if(!O){O=false;return}O=false;P=false;var i=Math.abs(W);var ac=(new Date()).getTime()-l;if((ac<300&&i>20)||(ac>=300&&i>100)){setTimeout(function(){if(y.params.type==="standalone"){y.close()}if(y.params.type==="popup"){b.closeModal(y.popup)}if(y.params.onSwipeToClose){y.params.onSwipeToClose(y)}P=true},0);return}if(i!==0){L.addClass("transitioning").transitionEnd(function(){P=true;L.removeClass("transitioning")})}else{P=true}y.swiper.container.css("opacity","").transition("");L.transform("")};return y};a.prototype={defaults:{photos:[],container:"body",initialSlide:0,spaceBetween:20,speed:300,zoom:true,maxZoom:3,minZoom:1,exposition:true,expositionHideCaptions:false,type:"standalone",navbar:true,toolbar:true,theme:"light",swipeToClose:true,backLinkText:"Close",ofText:"of",loop:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingOnTransitionStart:false}};b.photoBrowser=function(c){b.extend(c,b.photoBrowser.prototype.defaults);return new a(c)};b.photoBrowser.prototype={defaults:{}}}(Zepto);